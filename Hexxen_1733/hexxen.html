
<input class="npctoggle" type="hidden" name="attr_npc" value="0"/>
<input class="npc_type_toggle" type="hidden" name="attr_npc_type" value="npc_type_gang"/>
<div class="charsheet">
  <input class="tabstoggle" type="hidden" name="attr_sheetTab" value="character"/>
  <div class="sticky">
    <div class="2colrow"><img class="raven" src="http://www.handsongaming.de/public/images/hexxen/Rabenkasten_tc.png" />
<img class="pc_only watermark" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div class="tabbuttonbar">
<button type="action" class="pc_only" name="act_character" >Character</button>
<button type="action" class="npc_only" name="act_npc" >NPC</button>
<button type="action" class="pc_only" name="act_combat" >Combat</button>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<button type="action" name="act_toggleeditmode" >Exit Edit Mode</button>
<button type="action" name="act_toggleeditmode" >Enter Edit Mode</button>
</div>
<div class="col" style="min-width:380px">
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<div>
<div class="npc_only">
<button type="action" name="act_converttopc" >Convert to PC</button>
<div class="npc_only">       
      <label>Lebenspunkte: </label>
      <input class="number" type="number" name="attr_npc_hitpoints" value="1"/>
      <input class="number" type="number" name="attr_npc_hitpoints_max" value="1"/></div>
</div>
<div class="pc_only">
<button type="action" name="act_converttonpc" >Convert to NPC</button>
<br>
<input type="checkbox" class="normal" name="attr_displayrage" value="1" checked=true/>
<span></span>
<label>Display Rage</label>
<br>
<input type="checkbox" class="normal" name="attr_displayambition" value="1" checked=true/>
<span></span>
<label>Display Ambition</label>
<br>
<input type="checkbox" class="normal" name="attr_displayquintessence" value="1" checked=true/>
<span></span>
<label>Display Quintessence</label>
<br>
<input type="checkbox" class="normal" name="attr_displaychipstacks" value="1" checked=true/>
<span></span>
<label>Display Chipstacks</label>
</div>
</div>
<div style="min-width:400px">
      <div class="right npc_only npc_leader_only">
        <div class="ressource_hex">
          <div class="tooltip"></div>
          <input class="number" type="hidden" name="attr_hex"/><span class="chipstackgroup">
            <input class="chipstack chip0" type="radio" name="attr_hex" value="0" checked="checked"/><span></span>
            <input class="chipstack hexchip chip1" type="radio" name="attr_hex" value="1"/><span></span>
            <input class="chipstack hexchip chip2" type="radio" name="attr_hex" value="2"/><span></span>
            <input class="chipstack hexchip chip3" type="radio" name="attr_hex" value="3"/><span></span>
            <input class="chipstack hexchip chip4" type="radio" name="attr_hex" value="4"/><span></span>
            <input class="chipstack hexchip chip5" type="radio" name="attr_hex" value="5"/><span></span>
            <input class="chipstack hexchip chip6" type="radio" name="attr_hex" value="6"/><span></span>
            <input class="chipstack hexchip chip7" type="radio" name="attr_hex" value="7"/><span></span>
            <input class="chipstack hexchip chip8" type="radio" name="attr_hex" value="8"/><span></span>
            <input class="chipstack hexchip chip9" type="radio" name="attr_hex" value="9"/><span></span>
            <input class="chipstack hexchip chip10" type="radio" name="attr_hex" value="10"/><span></span></span>
          <div class="chipnumber">
            <button type="action" name="act_addhex">+</button><span name="attr_hex"></span>
            <button type="action" name="act_remhex">-</button>
          </div>
          <label class="tooltiptext"></label>
        </div>
      </div><input type="hidden" name="attr_rollvaluename"/>
<span class="label" name="attr_rollvaluename"></span>
<br>
<input type="hidden" min="0" max="10" name="attr_hexxen" /><span class="dicebargroup">
        <input class="dicebarzero" type="radio" name="attr_hexxen" value="0" checked="checked"/><span></span>
        <input class="dicebar hexdie" type="radio" value="1" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="2" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="3" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="4" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="5" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="6" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="7" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="8" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="9" name="attr_hexxen"/><span></span>
        <input class="dicebar hexdie" type="radio" value="10" name="attr_hexxen"/><span></span><br class="spacer_dice npc_only"/><span class="spacer_dice npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="11" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="12" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="13" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="14" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="15" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="16" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="17" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="18" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="19" name="attr_hexxen"/><span class="npc_only"></span>
        <input class="npc_only dicebar hexdie" type="radio" value="20" name="attr_hexxen"/><span class="npc_only"></span></span><div class="rolltestdice">
<button type='roll' name='roll_testattack' value='@{rollquery}'>Roll</button>
</div>
<br>
<input type="hidden" min="-5" max="5" name="attr_janus" />
<span class="dicebargroup">
<input type="radio" class="dicebar reverse janusdiemalus" name="attr_janus" value="-5" /><span></span>
<input type="radio" class="dicebar reverse janusdiemalus" name="attr_janus" value="-4" /><span></span>
<input type="radio" class="dicebar reverse janusdiemalus" name="attr_janus" value="-3" /><span></span>
<input type="radio" class="dicebar reverse janusdiemalus" name="attr_janus" value="-2" /><span></span>
<input type="radio" class="dicebar reverse janusdiemalus" name="attr_janus" value="-1" /><span></span>
<input type="radio" class="dicebarzero" name="attr_janus" value="0" /><span></span>
<input type="radio" class="dicebar janusdiebonus" name="attr_janus" value="1" /><span></span>
<input type="radio" class="dicebar janusdiebonus" name="attr_janus" value="2" /><span></span>
<input type="radio" class="dicebar janusdiebonus" name="attr_janus" value="3" /><span></span>
<input type="radio" class="dicebar janusdiebonus" name="attr_janus" value="4" /><span></span>
<input type="radio" class="dicebar janusdiebonus" name="attr_janus" value="5" /><span></span>
</span>
<br>
<input type="hidden" name="attr_rollmodifiers"/>
<span class="label" name="attr_rollmodifiers"></span>
<br>
<button type='roll' class="directdieroller blessingdie" name='roll_blessingdie' title="Segnung" value='"&{template:check} {{name=@{character_name}}} {{attr=Segnung}} {{blessing1=[[d6cs>4cf1cf2]]}}"'></button>
<button type='roll' class="directdieroller blooddie" name='roll_blooddie' title="Blutwürfel" value='"&{template:blood} {{name=@{character_name}}} {{attr=Blutwürfel}} {{blood1=[[d6cs>5cf1]]}}"'></button>
<button type='roll' class="directdieroller elixirdie" name='roll_elixirdie' title="Elixierwürfel" value='"&{template:elixir} {{name=@{character_name}}} {{attr=Elixierwürfel}} {{elixir1=[[d6cs5]]}}"'></button>
<button type="action" name="act_resetroll">Reset</button>
<br>
<div class="pc_only">
<label>Aktionspunkte</label>
<input type="number" class="number" name="attr_ap" value="6" min="0" max="6"/>
<span>(max. <span name="attr_ap_max"></span>)</span>
<br>
<label>Lebenspunkte</label>        
<div class="tooltip">
<input class='number' type="number" name="attr_bufferhitpoints" /> 
<label class="tooltiptext">Puffer-[Lep]</label>
</div>
<span class="label">+</span>
<div class="tooltip">
<input class='number' type="number" name="attr_hitpoints" />    
<label class="tooltiptext">Aktuelle Basis-[Lep].<br>Bei Basis-[Lep]≤-1 der Verlust alle Coups/Ideen, deren Benutzung unmöglich. Puffer-[Lep]=0</label>
<span>(max. <span class="label" name="attr_hitpoints_max" ></span>)</span>
</div>
</div>
<div class="npc_only">       
      <label>Lebenspunkte: </label>
      <input class="number" type="number" name="attr_npc_hitpoints" value="1"/><span>(max. <span name="attr_npc_hitpoints_max"></span>)</span></div>
</div>
</div>
      <div class="col pc_only">
        <div class="right">
          <input class="normal ressource_rage_toggle" type="hidden" name="attr_displayrage" value="1" checked="true"/>
          <input class="normal ressource_ambition_toggle" type="hidden" name="attr_displayambition" value="1" checked="true"/>
          <input class="normal ressource_quintessence_toggle" type="hidden" name="attr_displayquintessence" value="1" checked="true"/>
          <div class="tooltip ressource_coup">
            <input class="number" type="hidden" name="attr_coup"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_coup" value="0" checked="checked"/><span></span>
              <input class="chipstack coupchip chip1" type="radio" name="attr_coup" value="1"/><span></span>
              <input class="chipstack coupchip chip2" type="radio" name="attr_coup" value="2"/><span></span>
              <input class="chipstack coupchip chip3" type="radio" name="attr_coup" value="3"/><span></span>
              <input class="chipstack coupchip chip4" type="radio" name="attr_coup" value="4"/><span></span>
              <input class="chipstack coupchip chip5" type="radio" name="attr_coup" value="5"/><span></span>
              <input class="chipstack coupchip chip6" type="radio" name="attr_coup" value="6"/><span></span>
              <input class="chipstack coupchip chip7" type="radio" name="attr_coup" value="7"/><span></span>
              <input class="chipstack coupchip chip8" type="radio" name="attr_coup" value="8"/><span></span>
              <input class="chipstack coupchip chip9" type="radio" name="attr_coup" value="9"/><span></span>
              <input class="chipstack coupchip chip10" type="radio" name="attr_coup" value="10"/><span></span></span><span class="singlechip coupchip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addcoup">+</button><span name="attr_coup"></span>
              <button type="action" name="act_remcoup">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_coup">coup</span>
              <input class="hideempty_toggle" type="hidden" name="attr_coup_max"/><span class="hideempty"> (max. <span name="attr_coup_max"></span>)</span>
            </div>
          </div>
          <div class="tooltip ressource_idea">
            <input class="number" type="hidden" name="attr_idea"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_idea" value="0" checked="checked"/><span></span>
              <input class="chipstack ideachip chip1" type="radio" name="attr_idea" value="1"/><span></span>
              <input class="chipstack ideachip chip2" type="radio" name="attr_idea" value="2"/><span></span>
              <input class="chipstack ideachip chip3" type="radio" name="attr_idea" value="3"/><span></span>
              <input class="chipstack ideachip chip4" type="radio" name="attr_idea" value="4"/><span></span>
              <input class="chipstack ideachip chip5" type="radio" name="attr_idea" value="5"/><span></span>
              <input class="chipstack ideachip chip6" type="radio" name="attr_idea" value="6"/><span></span>
              <input class="chipstack ideachip chip7" type="radio" name="attr_idea" value="7"/><span></span>
              <input class="chipstack ideachip chip8" type="radio" name="attr_idea" value="8"/><span></span>
              <input class="chipstack ideachip chip9" type="radio" name="attr_idea" value="9"/><span></span>
              <input class="chipstack ideachip chip10" type="radio" name="attr_idea" value="10"/><span></span></span><span class="singlechip ideachip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addidea">+</button><span name="attr_idea"></span>
              <button type="action" name="act_remidea">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_idea">idea</span>
              <input class="hideempty_toggle" type="hidden" name="attr_idea_max"/><span class="hideempty"> (max. <span name="attr_idea_max"></span>)</span>
            </div>
          </div>
          <div class="tooltip ressource_blessing">
            <input class="number" type="hidden" name="attr_blessing"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_blessing" value="0" checked="checked"/><span></span>
              <input class="chipstack blessingchip chip1" type="radio" name="attr_blessing" value="1"/><span></span>
              <input class="chipstack blessingchip chip2" type="radio" name="attr_blessing" value="2"/><span></span>
              <input class="chipstack blessingchip chip3" type="radio" name="attr_blessing" value="3"/><span></span>
              <input class="chipstack blessingchip chip4" type="radio" name="attr_blessing" value="4"/><span></span>
              <input class="chipstack blessingchip chip5" type="radio" name="attr_blessing" value="5"/><span></span>
              <input class="chipstack blessingchip chip6" type="radio" name="attr_blessing" value="6"/><span></span>
              <input class="chipstack blessingchip chip7" type="radio" name="attr_blessing" value="7"/><span></span>
              <input class="chipstack blessingchip chip8" type="radio" name="attr_blessing" value="8"/><span></span>
              <input class="chipstack blessingchip chip9" type="radio" name="attr_blessing" value="9"/><span></span>
              <input class="chipstack blessingchip chip10" type="radio" name="attr_blessing" value="10"/><span></span></span><span class="singlechip blessingchip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addblessing">+</button><span name="attr_blessing"></span>
              <button type="action" name="act_remblessing">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_blessing">blessing</span>
              <input class="hideempty_toggle" type="hidden" name="attr_blessing_max"/><span class="hideempty"> (max. <span name="attr_blessing_max"></span>)</span>
            </div>
          </div>
          <div class="tooltip ressource_rage">
            <input class="number" type="hidden" name="attr_rage"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_rage" value="0" checked="checked"/><span></span>
              <input class="chipstack ragechip chip1" type="radio" name="attr_rage" value="1"/><span></span>
              <input class="chipstack ragechip chip2" type="radio" name="attr_rage" value="2"/><span></span>
              <input class="chipstack ragechip chip3" type="radio" name="attr_rage" value="3"/><span></span>
              <input class="chipstack ragechip chip4" type="radio" name="attr_rage" value="4"/><span></span>
              <input class="chipstack ragechip chip5" type="radio" name="attr_rage" value="5"/><span></span>
              <input class="chipstack ragechip chip6" type="radio" name="attr_rage" value="6"/><span></span>
              <input class="chipstack ragechip chip7" type="radio" name="attr_rage" value="7"/><span></span>
              <input class="chipstack ragechip chip8" type="radio" name="attr_rage" value="8"/><span></span>
              <input class="chipstack ragechip chip9" type="radio" name="attr_rage" value="9"/><span></span>
              <input class="chipstack ragechip chip10" type="radio" name="attr_rage" value="10"/><span></span></span><span class="singlechip ragechip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addrage">+</button><span name="attr_rage"></span>
              <button type="action" name="act_remrage">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_rage">rage</span>
              <input class="hideempty_toggle" type="hidden" name="attr_rage_max"/><span class="hideempty"> (max. <span name="attr_rage_max"></span>)</span>
            </div>
          </div>
          <div class="tooltip ressource_ambition">
            <input class="number" type="hidden" name="attr_ambition"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_ambition" value="0" checked="checked"/><span></span>
              <input class="chipstack ambitionchip chip1" type="radio" name="attr_ambition" value="1"/><span></span>
              <input class="chipstack ambitionchip chip2" type="radio" name="attr_ambition" value="2"/><span></span>
              <input class="chipstack ambitionchip chip3" type="radio" name="attr_ambition" value="3"/><span></span>
              <input class="chipstack ambitionchip chip4" type="radio" name="attr_ambition" value="4"/><span></span>
              <input class="chipstack ambitionchip chip5" type="radio" name="attr_ambition" value="5"/><span></span>
              <input class="chipstack ambitionchip chip6" type="radio" name="attr_ambition" value="6"/><span></span>
              <input class="chipstack ambitionchip chip7" type="radio" name="attr_ambition" value="7"/><span></span>
              <input class="chipstack ambitionchip chip8" type="radio" name="attr_ambition" value="8"/><span></span>
              <input class="chipstack ambitionchip chip9" type="radio" name="attr_ambition" value="9"/><span></span>
              <input class="chipstack ambitionchip chip10" type="radio" name="attr_ambition" value="10"/><span></span></span><span class="singlechip ambitionchip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addambition">+</button><span name="attr_ambition"></span>
              <button type="action" name="act_remambition">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_ambition">ambition</span>
              <input class="hideempty_toggle" type="hidden" name="attr_ambition_max"/><span class="hideempty"> (max. <span name="attr_ambition_max"></span>)</span>
            </div>
          </div>
          <div class="tooltip ressource_quintessence">
            <input class="number" type="hidden" name="attr_quintessence"/>
            <input class="displaychipstacks" type="hidden" name="attr_displaychipstacks" value="1"/><span class="chipstackgroup">
              <input class="chipstack chip0" type="radio" name="attr_quintessence" value="0" checked="checked"/><span></span>
              <input class="chipstack quintessencechip chip1" type="radio" name="attr_quintessence" value="1"/><span></span>
              <input class="chipstack quintessencechip chip2" type="radio" name="attr_quintessence" value="2"/><span></span>
              <input class="chipstack quintessencechip chip3" type="radio" name="attr_quintessence" value="3"/><span></span>
              <input class="chipstack quintessencechip chip4" type="radio" name="attr_quintessence" value="4"/><span></span>
              <input class="chipstack quintessencechip chip5" type="radio" name="attr_quintessence" value="5"/><span></span>
              <input class="chipstack quintessencechip chip6" type="radio" name="attr_quintessence" value="6"/><span></span>
              <input class="chipstack quintessencechip chip7" type="radio" name="attr_quintessence" value="7"/><span></span>
              <input class="chipstack quintessencechip chip8" type="radio" name="attr_quintessence" value="8"/><span></span>
              <input class="chipstack quintessencechip chip9" type="radio" name="attr_quintessence" value="9"/><span></span>
              <input class="chipstack quintessencechip chip10" type="radio" name="attr_quintessence" value="10"/><span></span></span><span class="singlechip quintessencechip">         </span>
            <div class="chipnumber">
              <button type="action" name="act_addquintessence">+</button><span name="attr_quintessence"></span>
              <button type="action" name="act_remquintessence">-</button>
            </div>
            <div class="tooltiptext"><span data-i18n="ressource_quintessence">quintessence</span>
              <input class="hideempty_toggle" type="hidden" name="attr_quintessence_max"/><span class="hideempty"> (max. <span name="attr_quintessence_max"></span>)</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div><div class='sheet-character'>
<div class="2colrow">
<div class="col"><div class="box">      
<h2>Charakter</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-personal" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<label>Jägerstufe</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_rank" />
<span class="number" name="attr_rank"></span>
<br />
<label>Profession</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="textline" type="text" name="attr_profession" />
<span class="label" name="attr_profession"></span>
<br />
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>   
<div class="wrapper">
<div class="options">
<label>Motivation</label>
<input class='textline'  type="text" name="attr_motivation_name" placeholder="Motivation"/>
<br>
<label>Modifikator:</label>
<select name="attr_motivation_target"><option value="0" selected="selected">None</option>
<option value="hitpoints" >Lebenspunkte</option>
<option value="ini" >Initiative</option>
<option value="parry_all" >Alle Paraden</option>
<option value="idea" >Ideen</option>
<option value="coup" >Coups</option>
<option value="attribute_strength" data-i18n="attribute_strength">attribute_strength</option>
<option value="attribute_athletic" data-i18n="attribute_athletic">attribute_athletic</option>
<option value="attribute_dexterity" data-i18n="attribute_dexterity">attribute_dexterity</option>
<option value="attribute_senses" data-i18n="attribute_senses">attribute_senses</option>
<option value="attribute_knowledge" data-i18n="attribute_knowledge">attribute_knowledge</option>
<option value="attribute_willpower" data-i18n="attribute_willpower">attribute_willpower</option>
<option value="skill_acrobatics" data-i18n="skill_acrobatics">skill_acrobatics</option>
<option value="skill_alertness" data-i18n="skill_alertness">skill_alertness</option>
<option value="skill_perception" data-i18n="skill_perception">skill_perception</option>
<option value="skill_firstaid" data-i18n="skill_firstaid">skill_firstaid</option>
<option value="skill_sleightofhand" data-i18n="skill_sleightofhand">skill_sleightofhand</option>
<option value="skill_mentalpower" data-i18n="skill_mentalpower">skill_mentalpower</option>
<option value="skill_crafting" data-i18n="skill_crafting">skill_crafting</option>
<option value="skill_stealth" data-i18n="skill_stealth">skill_stealth</option>
<option value="skill_countryandpeople" data-i18n="skill_countryandpeople">skill_countryandpeople</option>
<option value="skill_rhetoric" data-i18n="skill_rhetoric">skill_rhetoric</option>
<option value="skill_flexing" data-i18n="skill_flexing">skill_flexing</option>
<option value="skill_reflexes" data-i18n="skill_reflexes">skill_reflexes</option>
<option value="skill_riding" data-i18n="skill_riding">skill_riding</option>
<option value="skill_insensibility" data-i18n="skill_insensibility">skill_insensibility</option>
<option value="skill_fieldsofknowledge" data-i18n="skill_fieldsofknowledge">skill_fieldsofknowledge</option>
<option value="skill_witchcraft" data-i18n="skill_witchcraft">skill_witchcraft</option>
<option value="weapon_punch" data-i18n="weapon_punch">weapon_punch</option>
<option value="weapon_dagger" data-i18n="weapon_dagger">weapon_dagger</option>
<option value="weapon_fencing" data-i18n="weapon_fencing">weapon_fencing</option>
<option value="weapon_swords" data-i18n="weapon_swords">weapon_swords</option>
<option value="weapon_scimitar" data-i18n="weapon_scimitar">weapon_scimitar</option>
<option value="weapon_impact" data-i18n="weapon_impact">weapon_impact</option>
<option value="weapon_polearm" data-i18n="weapon_polearm">weapon_polearm</option>
<option value="weapon_lance" data-i18n="weapon_lance">weapon_lance</option>
<option value="weapon_sling" data-i18n="weapon_sling">weapon_sling</option>
<option value="weapon_pistol" data-i18n="weapon_pistol">weapon_pistol</option>
<option value="weapon_crossbow" data-i18n="weapon_crossbow">weapon_crossbow</option>
<option value="weapon_musket" data-i18n="weapon_musket">weapon_musket</option>
<option value="weapon_dodge" data-i18n="weapon_dodge">weapon_dodge</option>
<option value="weapon_shield" data-i18n="weapon_shield">weapon_shield_ma</option></select>
<input class="number" type="number" name="attr_motivation_bonus" min="0" />
</div>
</div>
<div class="display">
<label>Motivation</label>
<span name="attr_motivation_name"></span>
<input class="hideempty_toggle" type="hidden" name="attr_motivation_target"/>
<span class="hideempty">(
<span name="attr_motivation_target" data-i18n-dynamic=""></span>
<span> +</span>
<span name="attr_motivation_bonus"></span>
<span>)</span>
</span>
</div>
<br>
<label>Verderbnis:</label><input class="number" type="number" name="attr_verderbnis" />
<br>
<label>Unterhalt</label><input class="number" type="number" name="attr_unterhalt" />
<br />
<label>Vermögen</label><input class="number" type="number" name="attr_vermoegen" />
</div>
</div><div class="box">
<h2>Rollen</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-roles" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<fieldset class="repeating_roles counterreset">
<div class="fieldsetcontainer">
<div class="display">
<label class="counter">Rolle No</label>
<span class="fieldset_editmode_toggle"></span>
<select name="attr_role">
<option value="0" selected="selected" data-i18n="role_none">None</option>
<option value="role_alchemist"  data-i18n="role_alchemist">Alchemist</option>
<option value="role_assassin"  data-i18n="role_assassin">Attentäter</option>
<option value="role_guard"  data-i18n="role_guard">Beschützer</option>
<option value="role_zealot"  data-i18n="role_zealot">Eiferer</option>
<option value="role_fencer"  data-i18n="role_fencer">Fechter</option>
<option value="role_range"  data-i18n="role_range">Fernkämpfer</option>
<option value="role_witchfoe"  data-i18n="role_witchfoe">Hexenfeind</option>
<option value="role_witchmystic"  data-i18n="role_witchmystic">Hexenmystiker</option>
<option value="role_constructor"  data-i18n="role_constructor">Konstrukteur</option>
<option value="role_scout"  data-i18n="role_scout">Kundschafter</option>
<option value="role_melee"  data-i18n="role_melee">Nahkämpfer</option>
<option value="role_priest"  data-i18n="role_priest">Priester</option>
<option value="role_strategist"  data-i18n="role_strategist">Stratege</option>       
</select>
<span name="attr_role" data-i18n-dynamic></span>
</div>
</div>
</fieldset>
</div>
</div><div class="box">
<h2>Restliche Ausrüstung</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-equipment" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<textarea name="attr_equipment"></textarea>
</div>
</div><div class="box">
<h2>Kleidungssets</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-armorsets" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<fieldset class="repeating_armorsets counterreset">
<div class="fieldsetcontainer">
<div class="display">
<label class="counter">Set No</label>
<span class="fieldset_editmode_toggle"></span>
<input class='textline' type="text" name="attr_name" placeholder="Name"/>           
<span class="tooltip" name="attr_name"></span>
<span class="tooltiptext" name="attr_description"></span>
<input class="hideempty_toggle" type="hidden" name="attr_target"/>
<span class="hideempty">(
<span name="attr_target" data-i18n-dynamic=""></span>
<span name="attr_bonus"></span>
<span>)</span>
</span>
</div>
<input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
<div class="wrapper">
<span class="fieldset_editmode_toggle"></span>
<div>
<textarea name="attr_description" placeholder="Description"></textarea>
<label>Modifikator:</label>
<select name="attr_target"><option value="0" selected="selected">None</option>
<option value="hitpoints" >Lebenspunkte</option>
<option value="ini" >Initiative</option>
<option value="parry_all" >Alle Paraden</option>
<option value="idea" >Ideen</option>
<option value="coup" >Coups</option>
<option value="attribute_strength" data-i18n="attribute_strength">attribute_strength</option>
<option value="attribute_athletic" data-i18n="attribute_athletic">attribute_athletic</option>
<option value="attribute_dexterity" data-i18n="attribute_dexterity">attribute_dexterity</option>
<option value="attribute_senses" data-i18n="attribute_senses">attribute_senses</option>
<option value="attribute_knowledge" data-i18n="attribute_knowledge">attribute_knowledge</option>
<option value="attribute_willpower" data-i18n="attribute_willpower">attribute_willpower</option>
<option value="skill_acrobatics" data-i18n="skill_acrobatics">skill_acrobatics</option>
<option value="skill_alertness" data-i18n="skill_alertness">skill_alertness</option>
<option value="skill_perception" data-i18n="skill_perception">skill_perception</option>
<option value="skill_firstaid" data-i18n="skill_firstaid">skill_firstaid</option>
<option value="skill_sleightofhand" data-i18n="skill_sleightofhand">skill_sleightofhand</option>
<option value="skill_mentalpower" data-i18n="skill_mentalpower">skill_mentalpower</option>
<option value="skill_crafting" data-i18n="skill_crafting">skill_crafting</option>
<option value="skill_stealth" data-i18n="skill_stealth">skill_stealth</option>
<option value="skill_countryandpeople" data-i18n="skill_countryandpeople">skill_countryandpeople</option>
<option value="skill_rhetoric" data-i18n="skill_rhetoric">skill_rhetoric</option>
<option value="skill_flexing" data-i18n="skill_flexing">skill_flexing</option>
<option value="skill_reflexes" data-i18n="skill_reflexes">skill_reflexes</option>
<option value="skill_riding" data-i18n="skill_riding">skill_riding</option>
<option value="skill_insensibility" data-i18n="skill_insensibility">skill_insensibility</option>
<option value="skill_fieldsofknowledge" data-i18n="skill_fieldsofknowledge">skill_fieldsofknowledge</option>
<option value="skill_witchcraft" data-i18n="skill_witchcraft">skill_witchcraft</option>
<option value="weapon_punch" data-i18n="weapon_punch">weapon_punch</option>
<option value="weapon_dagger" data-i18n="weapon_dagger">weapon_dagger</option>
<option value="weapon_fencing" data-i18n="weapon_fencing">weapon_fencing</option>
<option value="weapon_swords" data-i18n="weapon_swords">weapon_swords</option>
<option value="weapon_scimitar" data-i18n="weapon_scimitar">weapon_scimitar</option>
<option value="weapon_impact" data-i18n="weapon_impact">weapon_impact</option>
<option value="weapon_polearm" data-i18n="weapon_polearm">weapon_polearm</option>
<option value="weapon_lance" data-i18n="weapon_lance">weapon_lance</option>
<option value="weapon_sling" data-i18n="weapon_sling">weapon_sling</option>
<option value="weapon_pistol" data-i18n="weapon_pistol">weapon_pistol</option>
<option value="weapon_crossbow" data-i18n="weapon_crossbow">weapon_crossbow</option>
<option value="weapon_musket" data-i18n="weapon_musket">weapon_musket</option>
<option value="weapon_dodge" data-i18n="weapon_dodge">weapon_dodge</option>
<option value="weapon_shield" data-i18n="weapon_shield">weapon_shield_ma</option></select>
<input class="number" type="number" name="attr_bonus" />
</div>
<div>
<span class="text" name="attr_description"></span>
</div>
</div>
</div>
</fieldset>
</div>
</div><div class="box">
<h2>Jägerkräfte</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-hunterpowers" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<fieldset class="repeating_hunterpowers">
<div class="fieldsetcontainer">
<div class="display">
<span class="fieldset_editmode_toggle"></span>
<input class="textline" type="text" name="attr_name" placeholder="Name"/>
<span name="attr_name"></span>
<input class="hideempty_toggle" type="hidden" name="attr_target"/>
<span class="hideempty">(
<span name="attr_target" data-i18n-dynamic=""></span>
<span name="attr_bonus"></span>
<span>)</span>
</span>
</div>
<input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
<div class="wrapper">
<span class="fieldset_editmode_toggle"></span>
<div>
<textarea name="attr_description" placeholder="Description"></textarea>
<label>Modifikator:</label>
<select name="attr_target"><option value="0" selected="selected">None</option>
<option value="hitpoints" >Lebenspunkte</option>
<option value="ini" >Initiative</option>
<option value="parry_all" >Alle Paraden</option>
<option value="idea" >Ideen</option>
<option value="coup" >Coups</option>
<option value="attribute_strength" data-i18n="attribute_strength">attribute_strength</option>
<option value="attribute_athletic" data-i18n="attribute_athletic">attribute_athletic</option>
<option value="attribute_dexterity" data-i18n="attribute_dexterity">attribute_dexterity</option>
<option value="attribute_senses" data-i18n="attribute_senses">attribute_senses</option>
<option value="attribute_knowledge" data-i18n="attribute_knowledge">attribute_knowledge</option>
<option value="attribute_willpower" data-i18n="attribute_willpower">attribute_willpower</option>
<option value="skill_acrobatics" data-i18n="skill_acrobatics">skill_acrobatics</option>
<option value="skill_alertness" data-i18n="skill_alertness">skill_alertness</option>
<option value="skill_perception" data-i18n="skill_perception">skill_perception</option>
<option value="skill_firstaid" data-i18n="skill_firstaid">skill_firstaid</option>
<option value="skill_sleightofhand" data-i18n="skill_sleightofhand">skill_sleightofhand</option>
<option value="skill_mentalpower" data-i18n="skill_mentalpower">skill_mentalpower</option>
<option value="skill_crafting" data-i18n="skill_crafting">skill_crafting</option>
<option value="skill_stealth" data-i18n="skill_stealth">skill_stealth</option>
<option value="skill_countryandpeople" data-i18n="skill_countryandpeople">skill_countryandpeople</option>
<option value="skill_rhetoric" data-i18n="skill_rhetoric">skill_rhetoric</option>
<option value="skill_flexing" data-i18n="skill_flexing">skill_flexing</option>
<option value="skill_reflexes" data-i18n="skill_reflexes">skill_reflexes</option>
<option value="skill_riding" data-i18n="skill_riding">skill_riding</option>
<option value="skill_insensibility" data-i18n="skill_insensibility">skill_insensibility</option>
<option value="skill_fieldsofknowledge" data-i18n="skill_fieldsofknowledge">skill_fieldsofknowledge</option>
<option value="skill_witchcraft" data-i18n="skill_witchcraft">skill_witchcraft</option>
<option value="weapon_punch" data-i18n="weapon_punch">weapon_punch</option>
<option value="weapon_dagger" data-i18n="weapon_dagger">weapon_dagger</option>
<option value="weapon_fencing" data-i18n="weapon_fencing">weapon_fencing</option>
<option value="weapon_swords" data-i18n="weapon_swords">weapon_swords</option>
<option value="weapon_scimitar" data-i18n="weapon_scimitar">weapon_scimitar</option>
<option value="weapon_impact" data-i18n="weapon_impact">weapon_impact</option>
<option value="weapon_polearm" data-i18n="weapon_polearm">weapon_polearm</option>
<option value="weapon_lance" data-i18n="weapon_lance">weapon_lance</option>
<option value="weapon_sling" data-i18n="weapon_sling">weapon_sling</option>
<option value="weapon_pistol" data-i18n="weapon_pistol">weapon_pistol</option>
<option value="weapon_crossbow" data-i18n="weapon_crossbow">weapon_crossbow</option>
<option value="weapon_musket" data-i18n="weapon_musket">weapon_musket</option>
<option value="weapon_dodge" data-i18n="weapon_dodge">weapon_dodge</option>
<option value="weapon_shield" data-i18n="weapon_shield">weapon_shield_ma</option></select>
<input class="number" type="number" name="attr_bonus" />
</div>
<div>
<span class="text" name="attr_description"></span>
</div>
</div>
</div>
</fieldset>
</div>
</div><div class="box">
<h2>Ausbaukräfte</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-powers" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<fieldset class="repeating_powers">
<div class="fieldsetcontainer">
<input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
<div class="display">
<span class="fieldset_editmode_toggle"></span>
<input class='textline'  type="text" name="attr_name" placeholder="Name"/>
<span name="attr_name"></span>
<input class="hideempty_toggle" type="hidden" name="attr_target"/>
<span class="hideempty">(
<span name="attr_target" data-i18n-dynamic=""></span>
<span name="attr_bonus"></span>
<span>)</span>
</span>
</div>
<div class="wrapper">
<span class="fieldset_editmode_toggle"></span>
<div>
<input class='textline'  type="text" name="attr_baseeffect" placeholder="Stammeffekt"/>
  <textarea name="attr_baseeffect_description" placeholder="Description"></textarea>
  <hr/>
  <input class="normal" type="checkbox" name="attr_apprenticeeffect1_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_apprenticeeffect1" placeholder="Geselleneffekt"/><br/>
  <textarea name="attr_apprenticeeffect1_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_apprenticeeffect2_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_apprenticeeffect2" placeholder="Geselleneffekt"/><br/>
  <textarea name="attr_apprenticeeffect2_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_apprenticeeffect3_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_apprenticeeffect3" placeholder="Geselleneffekt"/><br/>
  <textarea name="attr_apprenticeeffect3_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_experteffect1_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_experteffect1" placeholder="Experteneffekt"/><br/>
  <textarea name="attr_experteffect1_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_experteffect2_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_experteffect2" placeholder="Experteneffekt"/><br/>
  <textarea name="attr_experteffect2_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_experteffect3_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_experteffect3" placeholder="Experteneffekt"/><br/>
  <textarea name="attr_experteffect3_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_mastereffect1_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_mastereffect1" placeholder="Mastereffekt"/><br/>
  <textarea name="attr_mastereffect1_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_mastereffect2_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_mastereffect2" placeholder="Mastereffekt"/><br/>
  <textarea name="attr_mastereffect2_description" placeholder="Description"></textarea><br/>
  <input class="normal" type="checkbox" name="attr_mastereffect3_active" value="1"/><span></span>
  <input class="textline" type="text" name="attr_mastereffect3" placeholder="Mastereffekt"/><br/>
  <textarea name="attr_mastereffect3_description" placeholder="Description"></textarea><br/></div>
<div>
  <div class="basepowerbox">
    <input type="radio" name="attr_details" value="10"/><span name="attr_baseeffect"></span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect10"><span class="text" name="attr_baseeffect_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <hr class="powerdivider"/>
  <input type="hidden" name="attr_apprenticeeffect1_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="1"/><span name="attr_apprenticeeffect1"></span><br/>
  </div>
  <input type="hidden" name="attr_apprenticeeffect2_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="2"/><span name="attr_apprenticeeffect2"></span><br/>
  </div>
  <input type="hidden" name="attr_apprenticeeffect3_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="3"/><span name="attr_apprenticeeffect3"></span><br/>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect1"><span class="text" name="attr_apprenticeeffect1_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect2"><span class="text" name="attr_apprenticeeffect2_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect3"><span class="text" name="attr_apprenticeeffect3_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <hr class="powerdivider"/>
  <input type="hidden" name="attr_experteffect1_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="4"/><span name="attr_experteffect1"></span><br/>
  </div>
  <input type="hidden" name="attr_experteffect2_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="5"/><span name="attr_experteffect2"></span><br/>
  </div>
  <input type="hidden" name="attr_experteffect3_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="6"/><span name="attr_experteffect3"></span><br/>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect4"><span class="text" name="attr_experteffect1_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect5"><span class="text" name="attr_experteffect2_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect6"><span class="text" name="attr_experteffect3_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <hr class="powerdivider"/>
  <input type="hidden" name="attr_mastereffect1_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="7"/><span name="attr_mastereffect1"></span><br/>
  </div>
  <input type="hidden" name="attr_mastereffect2_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="8"/><span name="attr_mastereffect2"></span><br/>
  </div>
  <input type="hidden" name="attr_mastereffect3_active" value="1"/>
  <div class="powerbox">
    <input type="radio" name="attr_details" value="9"/><span name="attr_mastereffect3"></span><br/>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect7"><span class="text" name="attr_mastereffect1_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect8"><span class="text" name="attr_mastereffect2_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div>
  <input class="effectselector" type="hidden" name="attr_details"/>
  <div class="effect9"><span class="text" name="attr_mastereffect3_description"></span>
    <input class="hidedetails" type="radio" name="attr_details" value="0"/><span>{</span>
  </div></div>
</div>
</div>
</fieldset>
</div>
</div><div class="box">
<h2>Aktive Effekte</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-effects" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1" checked=true/>
<fieldset class="repeating_effects">
<div class="fieldsetcontainer">
<div class="display">
<span class="fieldset_editmode_toggle"></span>
<input class='textline'  type="text" name="attr_name" placeholder="Name"/>
<span name="attr_name"></span>
<input class="hideempty_toggle" type="hidden" name="attr_target"/>
<span class="hideempty">(
<span name="attr_target" data-i18n-dynamic=""></span>
<span name="attr_bonus"></span>
<span>)</span>
</span>
</div>
<input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
<div class="wrapper">
<span class="fieldset_editmode_toggle"></span>
<div>
<textarea name="attr_description" placeholder="Description"></textarea>
<label>Modifikator:</label>
<select name="attr_target"><option value="0" selected="selected">None</option>
<option value="hitpoints" >Lebenspunkte</option>
<option value="ini" >Initiative</option>
<option value="parry_all" >Alle Paraden</option>
<option value="idea" >Ideen</option>
<option value="coup" >Coups</option>
<option value="attribute_strength" data-i18n="attribute_strength">attribute_strength</option>
<option value="attribute_athletic" data-i18n="attribute_athletic">attribute_athletic</option>
<option value="attribute_dexterity" data-i18n="attribute_dexterity">attribute_dexterity</option>
<option value="attribute_senses" data-i18n="attribute_senses">attribute_senses</option>
<option value="attribute_knowledge" data-i18n="attribute_knowledge">attribute_knowledge</option>
<option value="attribute_willpower" data-i18n="attribute_willpower">attribute_willpower</option>
<option value="skill_acrobatics" data-i18n="skill_acrobatics">skill_acrobatics</option>
<option value="skill_alertness" data-i18n="skill_alertness">skill_alertness</option>
<option value="skill_perception" data-i18n="skill_perception">skill_perception</option>
<option value="skill_firstaid" data-i18n="skill_firstaid">skill_firstaid</option>
<option value="skill_sleightofhand" data-i18n="skill_sleightofhand">skill_sleightofhand</option>
<option value="skill_mentalpower" data-i18n="skill_mentalpower">skill_mentalpower</option>
<option value="skill_crafting" data-i18n="skill_crafting">skill_crafting</option>
<option value="skill_stealth" data-i18n="skill_stealth">skill_stealth</option>
<option value="skill_countryandpeople" data-i18n="skill_countryandpeople">skill_countryandpeople</option>
<option value="skill_rhetoric" data-i18n="skill_rhetoric">skill_rhetoric</option>
<option value="skill_flexing" data-i18n="skill_flexing">skill_flexing</option>
<option value="skill_reflexes" data-i18n="skill_reflexes">skill_reflexes</option>
<option value="skill_riding" data-i18n="skill_riding">skill_riding</option>
<option value="skill_insensibility" data-i18n="skill_insensibility">skill_insensibility</option>
<option value="skill_fieldsofknowledge" data-i18n="skill_fieldsofknowledge">skill_fieldsofknowledge</option>
<option value="skill_witchcraft" data-i18n="skill_witchcraft">skill_witchcraft</option>
<option value="weapon_punch" data-i18n="weapon_punch">weapon_punch</option>
<option value="weapon_dagger" data-i18n="weapon_dagger">weapon_dagger</option>
<option value="weapon_fencing" data-i18n="weapon_fencing">weapon_fencing</option>
<option value="weapon_swords" data-i18n="weapon_swords">weapon_swords</option>
<option value="weapon_scimitar" data-i18n="weapon_scimitar">weapon_scimitar</option>
<option value="weapon_impact" data-i18n="weapon_impact">weapon_impact</option>
<option value="weapon_polearm" data-i18n="weapon_polearm">weapon_polearm</option>
<option value="weapon_lance" data-i18n="weapon_lance">weapon_lance</option>
<option value="weapon_sling" data-i18n="weapon_sling">weapon_sling</option>
<option value="weapon_pistol" data-i18n="weapon_pistol">weapon_pistol</option>
<option value="weapon_crossbow" data-i18n="weapon_crossbow">weapon_crossbow</option>
<option value="weapon_musket" data-i18n="weapon_musket">weapon_musket</option>
<option value="weapon_dodge" data-i18n="weapon_dodge">weapon_dodge</option>
<option value="weapon_shield" data-i18n="weapon_shield">weapon_shield_ma</option></select>
<input class="number" type="number" name="attr_bonus" />
</div>
<div>
<span class="text" name="attr_description"></span>
</div>
</div>
</div>
</fieldset>
</div>
</div></div>
<div class="col"><div class="box">
<h2>Attribute</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-attributes" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div class="attributes">
<h3>Körperliche</h3>
<h3></h3>
<h3></h3>
<h3>Geistige</h3>
<h3></h3>
<h3></h3>
<label data-i18n="attribute_strength">Strength</label>
<label class='short pureattribute' data-i18n="attribute_strength_short">Str</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_strength" />
<span class="number" name="attr_attribute_strength"></span>
<label data-i18n="attribute_senses">Senses</label>
<label class='short pureattribute' data-i18n="attribute_senses_short">Sen</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_senses" />
<span class="number" name="attr_attribute_senses"></span>    
<label data-i18n="attribute_athletic">Athletics</label>
<label class='short pureattribute' data-i18n="attribute_athletic_short">Ath</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_athletic" />
<span class="number" name="attr_attribute_athletic"></span>
<label data-i18n="attribute_knowledge">Knowledge</label>
<label class='short pureattribute' data-i18n="attribute_knowledge_short">Kno</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_knowledge" />
<span class="number" name="attr_attribute_knowledge"></span>     
<label data-i18n="attribute_dexterity">Dexterity</label>
<label class='short pureattribute' data-i18n="attribute_dexterity_short">Dex</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_dexterity" />
<span class="number" name="attr_attribute_dexterity"></span>
<label data-i18n="attribute_willpower">Willpower</label>
<label class='short pureattribute' data-i18n="attribute_willpower_short">Wil</label>
<input type="hidden" class="editmode_toggle" name="attr_editmode" value="1"/>
<input class="number" type="number" name="attr_attribute_willpower" />
<span class="number" name="attr_attribute_willpower"></span>
</div>
</div><div class="box">
<h2>Allgemeine Fertigkeiten</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-skills" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div class="skills">
  <h3></h3>
  <h3>Fw   </h3>
  <h3>Sum</h3>
  <h3>Wurf</h3>
  <label class="item" data-i18n="skill_acrobatics">Akrobatik</label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_acrobatics"/><span class="number" name="attr_skill_acrobatics"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_acrobatics_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_acrobatics"></button>
  <label class="item" data-i18n="skill_alertness"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_alertness"/><span class="number" name="attr_skill_alertness"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_alertness_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_alertness"></button>
  <label class="item" data-i18n="skill_perception"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_perception"/><span class="number" name="attr_skill_perception"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_perception_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_perception"></button>
  <label class="item" data-i18n="skill_firstaid"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_firstaid"/><span class="number" name="attr_skill_firstaid"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_firstaid_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_knowledge_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_firstaid"></button>
  <label class="item" data-i18n="skill_sleightofhand"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_sleightofhand"/><span class="number" name="attr_skill_sleightofhand"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_sleightofhand_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_sleightofhand"></button>
  <label class="item" data-i18n="skill_mentalpower"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_mentalpower"/><span class="number" name="attr_skill_mentalpower"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_mentalpower_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_willpower_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_mentalpower"></button>
  <label class="item" data-i18n="skill_crafting"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_crafting"/><span class="number" name="attr_skill_crafting"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_crafting_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_crafting"></button>
  <label class="item" data-i18n="skill_stealth"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_stealth"/><span class="number" name="attr_skill_stealth"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_stealth_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_stealth"></button>
  <label class="item" data-i18n="skill_countryandpeople"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_countryandpeople"/><span class="number" name="attr_skill_countryandpeople"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_countryandpeople_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_knowledge_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_countryandpeople"></button>
  <label class="item" data-i18n="skill_rhetoric"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_rhetoric"/><span class="number" name="attr_skill_rhetoric"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_rhetoric_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_willpower_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_rhetoric"></button>
  <label class="item" data-i18n="skill_flexing"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_flexing"/><span class="number" name="attr_skill_flexing"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_flexing_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_flexing"></button>
  <label class="item" data-i18n="skill_reflexes"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_reflexes"/><span class="number" name="attr_skill_reflexes"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_reflexes_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_reflexes"></button>
  <label class="item" data-i18n="skill_riding"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_riding"/><span class="number" name="attr_skill_riding"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_riding_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_riding"></button>
  <label class="item" data-i18n="skill_insensibility"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_insensibility"/><span class="number" name="attr_skill_insensibility"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_insensibility_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_insensibility"></button>
  <label class="item" data-i18n="skill_fieldsofknowledge"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_fieldsofknowledge"/><span class="number" name="attr_skill_fieldsofknowledge"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_fieldsofknowledge_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_knowledge_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_fieldsofknowledge"></button>
  <label class="item" data-i18n="skill_witchcraft"></label>
  <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
  <input class="number" type="number" name="attr_skill_witchcraft"/><span class="number" name="attr_skill_witchcraft"></span>
  <div class="item tooltip"><span class="number" name="attr_skill_witchcraft_max"> </span>
    <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_knowledge_short">Ath  </span></div>
  </div>
  <button class="raven" type="action" name="act_skill_witchcraft"></button></div>
</div></div>
</div>
</div>
  <div class="sheet-combat">
    <div class="2colrow">
      <div class="col"><div class="box">
<h2>Anhaltende Einflüsse</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-influences" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div class="influences">        
<label class="item">Äußerer Schaden</label>
<span class="item">
<input type="radio" class="sheet-rating sheet-zero" name="attr_outerdamage" value="0" checked="checked" /><span></span>
<input type="radio" class="sheet-rating" name="attr_outerdamage" value="1" /><span></span>
<input type="radio" class="sheet-rating" name="attr_outerdamage" value="2" /><span></span>
<input type="radio" class="sheet-rating" name="attr_outerdamage" value="3" /><span></span>
<input type="radio" class="sheet-rating" name="attr_outerdamage" value="4" /><span></span>
<input type="radio" class="sheet-rating" name="attr_outerdamage" value="5" /><span></span>
</span>
<input class="item textline" type="text" name="attr_outerdamage_conditions" placeholder="Zustand"/>
<label class="item">Innerer Schaden</label>
<span class="item">
<input type="radio" class="sheet-rating sheet-zero" name="attr_innerdamage" value="0" checked="checked" /><span></span>
<input type="radio" class="sheet-rating" name="attr_innerdamage" value="1" /><span></span>
<input type="radio" class="sheet-rating" name="attr_innerdamage" value="2" /><span></span>
<input type="radio" class="sheet-rating" name="attr_innerdamage" value="3" /><span></span>
<input type="radio" class="sheet-rating" name="attr_innerdamage" value="4" /><span></span>
<input type="radio" class="sheet-rating" name="attr_innerdamage" value="5" /><span></span>
</span>
<input class="item textline" type="text" name="attr_innerdamage_conditions" placeholder="Zustand" />
<label class="item">Malusschaden</label>
<span class="item">
<input type="radio" class="sheet-rating sheet-zero" name="attr_malusdamage" value="0" checked="checked" /><span></span>
<input type="radio" class="sheet-rating" name="attr_malusdamage" value="1" /><span></span>
<input type="radio" class="sheet-rating" name="attr_malusdamage" value="2" /><span></span>
<input type="radio" class="sheet-rating" name="attr_malusdamage" value="3" /><span></span>
<input type="radio" class="sheet-rating" name="attr_malusdamage" value="4" /><span></span>
<input type="radio" class="sheet-rating" name="attr_malusdamage" value="5" /><span></span>
</span> 
<input class="item textline" type="text" name="attr_malusdamage_conditions" placeholder="Zustand" />
<label class="item">Lähmungsschaden</label>
<span class="item">
<input type="radio" class="sheet-rating sheet-zero" name="attr_paralysisdamage" value="0" checked="checked" /><span></span>
<input type="radio" class="sheet-rating" name="attr_paralysisdamage" value="1" /><span></span>
<input type="radio" class="sheet-rating" name="attr_paralysisdamage" value="2" /><span></span>
<input type="radio" class="sheet-rating" name="attr_paralysisdamage" value="3" /><span></span>
<input type="radio" class="sheet-rating" name="attr_paralysisdamage" value="4" /><span></span>
<input type="radio" class="sheet-rating" name="attr_paralysisdamage" value="5" /><span></span>
</span>
<input class="item textline" type="text" name="attr_paralysisdamage_conditions" placeholder="Zustand" />
</div>
</div><div class="box">
<h2>Schutz und Gesundheit</h2>
<input class="feathertoggle" type="checkbox" name="attr_display-healing" value="1" checked="true"/>
<img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png" />
<div>
<div class="right">
<label>Aktionspunkte</label>
<br>
<input type="number" class="number" name="attr_ap" value="6" min="0" max="6"/>
<span>(max. <span name="attr_ap_max"></span>)</span>
<br><br>
<label>Initiative</label>
<input type="hidden" name="attr_ini"/>
<span class="number" name="attr_ini"></span>
<br>
</div>
<label class="short">Panzerung</label>
<br>
<input type="radio" class="normal" name="attr_armor" value="1" checked="checked"/><span></span><label>Leicht (<span class="pureattribute">Pw1</span>)</label>
<br>
<input type="radio" class="normal" name="attr_armor" value="2" /><span></span><label>Mittel (<span class="pureattribute">Pw2</span>)</label>
<br>
<input type="radio" class="normal" name="attr_armor" value="3" /><span></span><label>Schwer (<span class="pureattribute">Pw3</span>)</label>
<br>
<br>
<div class="healinggrid">
<label>Erste Hilfe [<span class="pureattribute">Eh</span>]</label>
<span>
<input type="radio" class="rating sheet-zero" name="attr_counter_firstaid" value="0" checked="checked" /><span></span>
<input type="radio" class="rating" name="attr_counter_firstaid" value="1" /><span></span>
<input type="radio" class="rating" name="attr_counter_firstaid" value="2" /><span></span>
</span>
<label>Mag. Heilung [<span class="pureattribute">Mh</span>] & Elixiere</label>
<span>
<input type="radio" class="sheet-rating sheet-zero" name="attr_counter_magicalheal" value="0" checked="checked" /><span></span>
<input type="radio" class="sheet-rating" name="attr_counter_magicalheal" value="1" /><span></span>
<input type="radio" class="sheet-rating" name="attr_counter_magicalheal" value="2" /><span></span>
<input type="radio" class="sheet-rating" name="attr_counter_magicalheal" value="3" /><span></span>
<input type="radio" class="sheet-rating" name="attr_counter_magicalheal" value="4" /><span></span>
</span>
</div>
</div>
</div>
      </div>
      <div class="col">
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1" checked="checked"/>
        <div class="box"> 
          <h2>Waffenübersicht  </h2><img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png"/>
          <div class="weapons_edit">
            <h3></h3>
            <h3>Waffe</h3>
            <h3>Sch</h3>
            <h3>Ap</h3>
            <h3>Fw   </h3>
            <h3>Sum</h3><span>
              <input class="normal" type="checkbox" name="attr_weapon_punch_active" value="1" checked="checked"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_punch">Punch</label><span class="tooltiptext" data-i18n="weapon_punch_note">Parry -3, except Punches</span>
            </div>
            <label class="item">0</label>
            <label class="item">1</label>
            <input class="number" type="number" name="attr_weapon_punch"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_punch_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_dagger_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_dagger">Daggers &amp; Knives</label><span class="tooltiptext" data-i18n="weapon_dagger_note">Giftverwendung / Parry -2, except Punches and Daggers &amp; Knives</span>
            </div>
            <label class="item">1</label>
            <label class="item">1</label>
            <input class="number" type="number" name="attr_weapon_dagger"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_dagger_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_fencing_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_fencing">Fencing Weapons</label><span class="tooltiptext" data-i18n="weapon_fencing_note">Parry -1 per engaged enemy after the first one</span>
            </div>
            <label class="item">2</label>
            <label class="item">1</label>
            <input class="number" type="number" name="attr_weapon_fencing"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_fencing_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_swords_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_swords">Swords</label><span class="tooltiptext" data-i18n="weapon_swords_note">full parry</span>
            </div>
            <label class="item">3</label>
            <label class="item">2</label>
            <input class="number" type="number" name="attr_weapon_swords"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_swords_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_scimitar_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_scimitar">Scimitars</label><span class="tooltiptext" data-i18n="weapon_scimitar_note">Parry -1</span>
            </div>
            <label class="item">4</label>
            <label class="item">2</label>
            <input class="number" type="number" name="attr_weapon_scimitar"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_scimitar_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_impact_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_impact">Impact Weapons</label><span class="tooltiptext" data-i18n="weapon_impact_note">Parry -2</span>
            </div>
            <label class="item">5</label>
            <label class="item">2</label>
            <input class="number" type="number" name="attr_weapon_impact"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_impact_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_polearm_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_polearm">Polearms</label><span class="tooltiptext" data-i18n="weapon_polearm_note">Parry costs 2AP</span>
            </div>
            <label class="item">6</label>
            <label class="item">3</label>
            <input class="number" type="number" name="attr_weapon_polearm"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_polearm_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_lance_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_lance">Lance Weapons</label><span class="tooltiptext" data-i18n="weapon_lance_note">Parry costs 2AP</span>
            </div>
            <label class="item">6</label>
            <label class="item">3</label>
            <input class="number" type="number" name="attr_weapon_lance"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_lance_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_sling_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_sling">Sling</label><span class="tooltiptext" data-i18n="weapon_sling_note">Geschossgeeignet, Thrower must be free</span>
            </div>
            <label class="item">1</label>
            <label class="item">2</label>
            <input class="number" type="number" name="attr_weapon_sling"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_sling_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_pistol_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_pistol">Pistol</label><span class="tooltiptext" data-i18n="weapon_pistol_note">Immer freie Schussmöglichkeit</span>
            </div>
            <label class="item">3</label>
            <label class="item">2</label>
            <input class="number" type="number" name="attr_weapon_pistol"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_pistol_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_crossbow_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_crossbow">Crosswbow</label><span class="tooltiptext" data-i18n="weapon_crossbow_note">Shooter must be free</span>
            </div>
            <label class="item">5</label>
            <label class="item">3</label>
            <input class="number" type="number" name="attr_weapon_crossbow"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_crossbow_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_musket_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_musket">Musket</label><span class="tooltiptext" data-i18n="weapon_musket_note">Shooter and target must be free</span>
            </div>
            <label class="item">8</label>
            <label class="item">3</label>
            <input class="number" type="number" name="attr_weapon_musket"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_musket_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_dodge_active" value="1" checked="checked"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_dodge">Dodge</label><span class="tooltiptext" data-i18n="weapon_dodge_note">Per engaged enemy -1, ranged attacks -1</span>
            </div>
            <label class="item">0</label>
            <label class="item">1</label>
            <input class="number" type="number" name="attr_weapon_dodge"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_dodge_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div><span>
              <input class="normal" type="checkbox" name="attr_weapon_shield_active" value="1"/><span></span></span>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_shield">Shield</label><span class="tooltiptext" data-i18n="weapon_shield_note">Only 1x per round / blocks ranged attacks</span>
            </div>
            <label class="item">0</label>
            <label class="item">1</label>
            <input class="number" type="number" name="attr_weapon_shield"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_shield_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
          </div>
        </div>
        <div class="box"> 
          <h2>Waffenübersicht  </h2><input class="feathertoggle" type="checkbox" name="attr_display-weapons" value="1" checked="true"/><img class="feather" src="http://www.handsongaming.de/public/images/hexxen/Feder.png"/>
          <div class="weapons">
            <h3>Waffe</h3>
            <h3>Sch</h3>
            <h3>Ap</h3>
            <h3>Fw   </h3>
            <h3>Sum</h3>
            <h3>Ang</h3>
            <h3>Par</h3>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_punch">Punch</label><span class="tooltiptext" data-i18n="weapon_punch_note">Parry -3, except Punches</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <label class="item">0</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/><span class="item" name="attr_weapon_punch"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_punch_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_punch_mod_desc"/><span class="tooltiptext" name="attr_weapon_punch_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_punch_active" value="1"/>
              <button class="roll raven attack" type="action" name="act_weapon_punch"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_punch_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_punch_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_punch_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_punch_active" value="1"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_punch">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_dagger">Daggers &amp; Knives</label><span class="tooltiptext" data-i18n="weapon_dagger_note">Giftverwendung / Parry -2, except Punches and Daggers &amp; Knives</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/><span class="item" name="attr_weapon_dagger"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_dagger_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_dagger_mod_desc"/><span class="tooltiptext" name="attr_weapon_dagger_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_dagger_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_dagger"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dagger_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_dagger_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_dagger_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_dagger_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_dagger">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_fencing">Fencing Weapons</label><span class="tooltiptext" data-i18n="weapon_fencing_note">Parry -1 per engaged enemy after the first one</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/><span class="item" name="attr_weapon_fencing"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_fencing_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_fencing_mod_desc"/><span class="tooltiptext" name="attr_weapon_fencing_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_fencing_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_fencing"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_fencing_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_fencing_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_fencing_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_fencing_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_fencing">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_swords">Swords</label><span class="tooltiptext" data-i18n="weapon_swords_note">full parry</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/><span class="item" name="attr_weapon_swords"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_swords_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_swords_mod_desc"/><span class="tooltiptext" name="attr_weapon_swords_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_swords_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_swords"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_swords_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_swords_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_swords_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_swords_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_swords">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_scimitar">Scimitars</label><span class="tooltiptext" data-i18n="weapon_scimitar_note">Parry -1</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <label class="item">4</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/><span class="item" name="attr_weapon_scimitar"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_scimitar_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_scimitar_mod_desc"/><span class="tooltiptext" name="attr_weapon_scimitar_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_scimitar_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_scimitar"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_scimitar_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_scimitar_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_scimitar_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_scimitar_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_scimitar">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_impact">Impact Weapons</label><span class="tooltiptext" data-i18n="weapon_impact_note">Parry -2</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <label class="item">5</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/><span class="item" name="attr_weapon_impact"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_impact_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_impact_mod_desc"/><span class="tooltiptext" name="attr_weapon_impact_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_impact_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_impact"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_impact_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_impact_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_impact_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_impact_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_impact">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_polearm">Polearms</label><span class="tooltiptext" data-i18n="weapon_polearm_note">Parry costs 2AP</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <label class="item">6</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/><span class="item" name="attr_weapon_polearm"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_polearm_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_polearm_mod_desc"/><span class="tooltiptext" name="attr_weapon_polearm_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_polearm_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_polearm"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_polearm_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_polearm_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_polearm_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_polearm_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_polearm">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_lance">Lance Weapons</label><span class="tooltiptext" data-i18n="weapon_lance_note">Parry costs 2AP</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <label class="item">6</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/><span class="item" name="attr_weapon_lance"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_lance_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_lance_mod_desc"/><span class="tooltiptext" name="attr_weapon_lance_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_lance_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_lance"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_lance_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_lance_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_lance_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_lance_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_lance">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_sling">Sling</label><span class="tooltiptext" data-i18n="weapon_sling_note">Geschossgeeignet, Thrower must be free</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/><span class="item" name="attr_weapon_sling"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_sling_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_dexterity_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_sling_mod_desc"/><span class="tooltiptext" name="attr_weapon_sling_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_sling_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_sling"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_sling_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_sling_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_sling_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_sling_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_sling">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_pistol">Pistol</label><span class="tooltiptext" data-i18n="weapon_pistol_note">Immer freie Schussmöglichkeit</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <label class="item">2</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/><span class="item" name="attr_weapon_pistol"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_pistol_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_pistol_mod_desc"/><span class="tooltiptext" name="attr_weapon_pistol_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_pistol_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_pistol"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_pistol_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_pistol_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_pistol_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_pistol_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_pistol">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_crossbow">Crosswbow</label><span class="tooltiptext" data-i18n="weapon_crossbow_note">Shooter must be free</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <label class="item">5</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/><span class="item" name="attr_weapon_crossbow"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_crossbow_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_crossbow_mod_desc"/><span class="tooltiptext" name="attr_weapon_crossbow_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_crossbow_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_crossbow"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_crossbow_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_crossbow_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_crossbow_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_crossbow_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_crossbow">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_musket">Musket</label><span class="tooltiptext" data-i18n="weapon_musket_note">Shooter and target must be free</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <label class="item">8</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <label class="item">3</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/><span class="item" name="attr_weapon_musket"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_musket_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_senses_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_musket_mod_desc"/><span class="tooltiptext" name="attr_weapon_musket_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_musket_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_musket"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_musket_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_musket_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_musket_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_musket_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_musket">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_dodge">Dodge</label><span class="tooltiptext" data-i18n="weapon_dodge_note">Per engaged enemy -1, ranged attacks -1</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <label class="item">0</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/><span class="item" name="attr_weapon_dodge"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_dodge_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_athletic_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_dodge_mod_desc"/><span class="tooltiptext" name="attr_weapon_dodge_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_dodge_active" value="1"/>
              <button class="roll raven attack" type="action" name="act_weapon_dodge"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_dodge_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_dodge_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_dodge_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_dodge_active" value="1"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_dodge">b</button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <div class="item tooltip">
              <label class="item" data-i18n="weapon_shield">Shield</label><span class="tooltiptext" data-i18n="weapon_shield_note">Only 1x per round / blocks ranged attacks</span>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <label class="item">0</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <label class="item">1</label>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/><span class="item" name="attr_weapon_shield"> </span>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <div class="item tooltip"><span class="item label" name="attr_weapon_shield_max"> </span>
              <div class="tooltiptext"><span>FW +  </span><span data-i18n="attribute_strength_short">Ath  </span></div>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_weapon_shield_mod_desc"/><span class="tooltiptext" name="attr_weapon_shield_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_shield_active" value="0"/>
              <button class="roll raven attack" type="action" name="act_weapon_shield"></button>
            </div>
            <input class="weaponrowactive" type="hidden" name="attr_weapon_shield_active"/>
            <div class="item tooltip">
              <input type="hidden" name="attr_parry_weapon_shield_mod_desc"/><span class="tooltiptext" name="attr_parry_weapon_shield_mod_desc"></span>
              <input class="normal" type="hidden" name="attr_weapon_shield_active" value="0"/>
              <button class="roll raven parry" type="action" name="act_parry_weapon_shield">b</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="npc">
    <input class="npc_type_toggle" type="hidden" name="attr_npc_type" value="npc_type_gang"/>
    <div class="box">
      <h3><span name="attr_character_name"></span></h3>
      <div><span class="text">(</span><span class="text" name="attr_npc_type" data-i18n-dynamic="data-i18n-dynamic"> </span><span class="text"> </span><span class="text" name="attr_rank"></span><span class="text">)</span></div>
      <hr/>
      <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
      <select name="attr_npc_type"><option value="npc_type_gang" selected="selected" data-i18n="npc_type_gang">Bande</option>
<option value="npc_type_leader"  data-i18n="npc_type_leader">Anführer</option>
      </select>
      <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
      <input class="number" type="number" name="attr_rank" value="1"/>
      <div class="npc_leader_only"><span class="label" data-i18n="attribute_strength_short">Str</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_strength"/><span class="normal" name="attr_attribute_strength"></span><span class="normal">, </span><span class="label" data-i18n="attribute_athletic_short">Ath</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_athletic"/><span class="normal" name="attr_attribute_athletic"></span><span class="normal">, </span><span class="label" data-i18n="attribute_dexterity_short">Dex</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_dexterity"/><span class="normal" name="attr_attribute_dexterity"></span><span class="normal">, </span><span class="label" data-i18n="attribute_senses_short">Sen</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_senses"/><span class="normal" name="attr_attribute_senses"></span><span class="normal">, </span><span class="label" data-i18n="attribute_knowledge_short">Kno</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_knowledge"/><span class="normal" name="attr_attribute_knowledge"></span><span class="normal">, </span><span class="label" data-i18n="attribute_willpower_short">Wil</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_attribute_willpower"/><span class="normal" name="attr_attribute_willpower"></span><br/><span class="label">Pw:</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_armor" value="1" min="0" max="3"/><span class="normal" name="attr_armor"></span><br/><span class="label">Ini:</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_ini" value="1"/><span class="normal" name="attr_ini"></span><span class="label"> | </span><span class="label">Strategie:</span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <select name="attr_npc_strategy"><option value="npc_strategy_simple" selected="selected"  data-i18n="npc_strategy_simple">Tumb</option>
<option value="npc_strategy_offensive"  data-i18n="npc_strategy_offensive">Offensiv</option>
<option value="npc_strategy_protective"  data-i18n="npc_strategy_protective">Beschützend</option>
<option value="npc_strategy_defensive"  data-i18n="npc_strategy_defensive">Defensiv</option>
<option value="npc_strategy_allrounder" data-i18n="npc_strategy_allrounder">Allrounder</option>
<option value="npc_strategy_mighty_allrounder"  data-i18n="npc_strategy_mighty_allrounder">Mächtiger Allrounder</option>
        </select><span class="normal" name="attr_npc_strategy" data-i18n-dynamic="data-i18n-dynamic"></span>
      </div>
      <div class="npc_gang_only"><span class="label">Ini: </span>
        <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1"/>
        <input class="number" type="number" name="attr_ini" value="1"/><span class="normal" name="attr_ini"></span><br/>
      </div>
      <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1" checked="checked"/>
      <fieldset class="repeating_npcattacks">
        <div class="fieldsetcontainer">
          <div class="display"><span class="text" name="attr_attacktype" data-i18n-dynamic=""></span><span class="text">: </span><span name="attr_name"></span><span class="text"> (</span><span class="text" name="attr_attribute" data-i18n-dynamic=""></span><span class="text">), </span><span class="text">Angriff </span><span class="text" name="attr_attackvalue"></span><span class="text">, </span><span class="text">Schaden </span><span class="text" name="attr_damage"></span>
            <button class="roll smallraven attack" type="action" name="act_rollnpcattack"></button>
          </div>
          <input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
          <div class="wrapper">
            <input class="options-flag" type="checkbox" checked="true" name="attr_options-flag"/><span>y</span>
            <div class="options">
              <select name="attr_attacktype">
                <option value="melee">Nahkampf</option>
                <option value="ranged">Fernkampf</option>
              </select>
              <input type="text" name="attr_name" placeholder="Name"/>
              <select name="attr_attribute">
                <option value="attribute_athletic_short" data-i18n="attribute_athletic_short">Ath</option>
                <option value="attribute_strength_short" data-i18n="attribute_strength_short">Kkr</option>
                <option value="attribute_dexterity_short" data-i18n="attribute_dexterity_short">Ges</option>
                <option value="attribute_senses_short" data-i18n="attribute_senses_short">Sin</option>
                <option value="attribute_knowledge_short" data-i18n="attribute_knowledge_short">Wis</option>
                <option value="attribute_willpower_short" data-i18n="attribute_willpower_short">Wil</option>
              </select>
              <label>Angriff</label>
              <input type="number" name="attr_attackvalue"/>
              <label>Schaden</label>
              <input type="number" name="attr_damage"/>
              <textarea name="attr_description" placeholder="Description"></textarea>
            </div>
            <div class="details"><span class="text" name="attr_description"></span></div>
          </div>
        </div>
      </fieldset>
      <hr/>
      <h4>Kräfte</h4>
      <input class="editmode_toggle" type="hidden" name="attr_editmode" value="1" checked="checked"/>
      <ul>
        <fieldset class="repeating_npcpowers">
          <div class="fieldsetcontainer">
            <li class="display"><span name="attr_name"></span><span class="text"> (</span><span class="text" name="attr_description"></span><span class="text">)</span></li>
            <input class="details-flag" type="checkbox" checked="true" name="attr_details-flag"/><span>i</span>
            <div class="wrapper">
              <input class="options-flag" type="checkbox" checked="true" name="attr_options-flag"/><span>y</span>
              <div class="options">
                <input class="medium" type="text" name="attr_name" placeholder="Name"/>
                <textarea name="attr_description" placeholder="Description"></textarea>
              </div>
              <div class="details"></div>
            </div>
          </div>
        </fieldset>
      </ul>
    </div>
  </div><div class='sheet-config'>
    <div class="box">
        <h2>Config/Settings</h2>
        <button type="action" class="pc_only" name="act_converttonpc" >Convert to NPC</button>
        <button type="action" class="npc_only" name="act_converttopc" >Convert to PC</button>

        <br>
        <input type="checkbox" class="normal" name="attr_editmode" value="1" checked=true/>
        <span></span>
        <label>Editable</label>
        <br>
        <div class="pc_only">
            <input type="checkbox" class="normal" name="attr_displayrage" value="1" checked=true/>
            <span></span>
            <label>Display Rage</label>
            <br>
            <input type="checkbox" class="normal" name="attr_displayambition" value="1" checked=true/>
            <span></span>
            <label>Display Ambition</label>
            <br>
            <input type="checkbox" class="normal" name="attr_displayquintessence" value="1" checked=true/>
            <span></span>
            <label>Display Quintessence</label>
            <br>
            <input type="checkbox" class="normal" name="attr_displaychipstacks" value="1" checked=true/>
            <span></span>
            <label>Display Chipstacks</label>
        </div>
    </div>
</div>
</div>
<script type="text/worker">const buttonlist = ["character","combat","npc","configuration"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            getAttrs(["npc"], function(values) {
                var npc = parseInt(values["npc"],10)||0;
                if(button === "npc")
                    npc = 1;
                else if(button === "character")
                    npc = 0;
                setAttrs({
                    sheetTab: button,
                    npc: npc
                });
            });
        });
    });
    const convertbuttonlist = ["converttopc","converttonpc"];
    convertbuttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            getAttrs(["npc"], function(values) {
                var npc = 0;
                if(button === "converttonpc")
                    npc = 1;
                else if(button === "converttopc")
                    npc = 0;
                setAttrs({
                    sheetTab: "configuration",
                    npc: npc
                });
            });
        });
    });

    on(`clicked:toggleeditmode`, function() {
        getAttrs(["editmode"], function(values) {
            var editmode = parseInt(values["editmode"],10)||0;

            setAttrs({
                editmode: editmode == 1 ? 0 : 1
            });
        });
    });

    const resourcebuttonlist = ["addcoup","remcoup",
    "addidea","remidea",
    "addblessing","remblessing",
    "addrage","remrage",
    "addambition","remambition",
    "addhex","remhex",
    "addquintessence","remquintessence"];
    resourcebuttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            var action = button.substr(0,3);
            var ressource = button.substr(3);
            getAttrs([ressource], function(values) {
                let resourceValue = parseInt(values[ressource],10)||0;
                if(action == "add")
                    resourceValue = resourceValue + 1;
                else if(action == "rem")
                    resourceValue = resourceValue -1;
                resourceValue =  Math.min(Math.max(resourceValue, 0), 20);

                var update = {};

                if(resourceValue > 0)
                {
                    if(ressource == "rage")
                        update["ambition"] = 0;
                    else if(ressource == "ambition")
                        update["rage"] = 0;
                }


                
                update[ressource] = resourceValue;
                setAttrs(update);
            });
        });
    });
    
    on("change:janus change:hexxen change:rollvaluename", () =>{
        getAttrs(["janus", "hexxen", "rollvaluename"], function(values) {
            let janusValue = parseInt(values["janus"],10)||0;
            let attributeValue = parseInt(values["hexxen"],10)||0;
            let rollvaluename = values["hexxen"];
            let query = "&{template:check} {{name=@{character_name}}}";
            if(rollvaluename)
            {
                query = query + " {{attr=@{rollvaluename}}}";
                query = query + " {{attr_val="+attributeValue+"}}";
            }
            var i;
            for (i = 1; i <= attributeValue; i++) {
                query = query + " {{hexxen"+i+"=[[d6cs>5]]}}";
            }
            if(janusValue > 0)
            {
                for (i = 1; i <= janusValue; i++) {
                    query = query + " {{janus"+i+"=[[d6cs>4cf]]}}";
                }
            }
            else if(janusValue < 0)
            {
                for (i = -1; i >= janusValue; i--) {
                    query = query + " {{janus"+i+"=[[d6cs>4cf]]}}";
                }
            }
            setAttrs({                            
                rollquery: query
            });
        });
    });

    on(`clicked:resetroll`, function(value) {
        setAttrs({
            hexxen: 0,
            janus: 0,
            rollvaluename: '',
            rollattribute: '',
            rollmodifiers: ''
        });
    });


    on("clicked:repeating_npcattacks:rollnpcattack", function(eventInfo) {
        
        const rowid = eventInfo.sourceAttribute.split('_')[2];
        getAttrs([`repeating_npcattacks_${rowid}_name`, `repeating_npcattacks_${rowid}_attribute`, `repeating_npcattacks_${rowid}_attackvalue`], function(attack) {

           

            let valuename =  attack[`repeating_npcattacks_${rowid}_name`];
            let baseattributename = attack[`repeating_npcattacks_${rowid}_attribute`]; 
            let v = parseInt( attack[`repeating_npcattacks_${rowid}_attackvalue`],10)||0;
            var modstring = "";

            setAttrs({
                hexxen: v,
                janus: 0,
                rollvaluename: valuename,
                rollattribute: baseattributename,
                rollmodifiers: modstring
            });  
          
        });
    });

   
    const checklist = [
    'attribute_strength',
     'attribute_athletic',
      'attribute_dexterity',
       'attribute_senses',
        'attribute_knowledge',
        'attribute_willpower',
     'skill_acrobatics',
        'skill_alertness',
        'skill_perception',
        'skill_firstaid',
        'skill_sleightofhand',
        'skill_mentalpower',
        'skill_crafting',
        'skill_stealth',
        'skill_countryandpeople',
        'skill_rhetoric',
        'skill_flexing',
        'skill_reflexes',
        'skill_riding',
        'skill_insensibility',
        'skill_fieldsofknowledge',
        'skill_witchcraft',
        'weapon_punch',
        'weapon_dagger',
        'weapon_fencing',
        'weapon_swords',
        'weapon_scimitar',
        'weapon_impact',
        'weapon_polearm',
        'weapon_lance',
        'weapon_sling',
        'weapon_pistol',
        'weapon_crossbow',
        'weapon_musket',
        'weapon_dodge',
        'weapon_shield',
        'parry_weapon_punch',
        'parry_weapon_dagger',
        'parry_weapon_fencing',
        'parry_weapon_swords',
        'parry_weapon_scimitar',
        'parry_weapon_impact',
        'parry_weapon_polearm',
        'parry_weapon_lance',
        'parry_weapon_sling',
        'parry_weapon_pistol',
        'parry_weapon_crossbow',
        'parry_weapon_musket',
        'parry_weapon_dodge',
        'parry_weapon_shield'];
        checklist.forEach(checkname => {
        on(`clicked:${checkname}`, function() {
                
            let valuename = "???";
            let baseattributename = "???"; 
            var checkmax = checkname+"_max";
            if(checkname.startsWith('attribute_'))
            {
                baseattributename = checkname;
                checkmax = checkname;
                valuename = getTranslationByKey(checkname);
            }
           else if(checkname.startsWith('parry_'))
           {
            var checkmax = checkname.replace("parry_", "")+"_max";
            baseattributename = skills[checkname.replace("parry_", "")].att; ;
               valuename = getTranslationByKey(checkname.replace("parry_", ""))+" ("+getTranslationByKey('parry')+")"+" ["+getTranslationByKey(baseattributename+"_short")+"]";
           }
          else
            {               
                baseattributename = skills[checkname].att; 
                valuename = getTranslationByKey(checkname)+" ["+getTranslationByKey(baseattributename+"_short")+"]";
            }
            
            var checkmod = checkname+"_mod";
            var checkmoddesc = checkname+"_mod_desc";
            console.log(valuename);
            console.log(baseattributename);
            console.log(checkmax);
            console.log(checkmod);
            console.log(checkmoddesc);

            getAttrs([checkmax, checkmod, checkmoddesc], function(values) {
                let v = parseInt(values[checkmax],10)||0;
                var modstring = values[checkmoddesc]||"";
                var janus = parseInt(values[checkmod],10)||0;

                setAttrs({
                    hexxen: v,
                    janus: janus,
                    rollvaluename: valuename,
                    rollattribute: baseattributename,
                    rollmodifiers: modstring
                });
            });
        });
    });

    const parrylist = [
        'parry_weapon_punch',
        'parry_weapon_dagger',
        'parry_weapon_fencing',
        'parry_weapon_swords',
        'parry_weapon_scimitar',
        'parry_weapon_impact',
        'parry_weapon_polearm',
        'parry_weapon_lance',
        'parry_weapon_sling',
        'parry_weapon_pistol',
        'parry_weapon_crossbow',
        'parry_weapon_musket',
        'parry_weapon_dodge',
        'parry_weapon_shield'];

   

    on("change:attribute_athletic change:coup_mod", function() {
        getAttrs(["attribute_athletic", "coup_mod"], function(values) {
            var ath = parseInt(values.attribute_athletic,10)||0;
            var coup_mod = parseInt(values.coup_mod,10)||0;
            var coup = ath + coup_mod;
            setAttrs({                            
                coup_max: coup
            });
          });
    });
    on("change:attribute_knowledge change:idea_mod", function() {
        getAttrs(["attribute_knowledge", "idea_mod"], function(values) {
            var kno = parseInt(values.attribute_knowledge,10)||0;
            var idea_mod = parseInt(values.idea_mod,10)||0;
            var idea = kno + idea_mod;
            setAttrs({                            
                idea_max: idea
            });
          });
    });
    on("change:armor", function() {
        getAttrs(["armor"], function(values) {
            let armor = parseInt(values.armor,10)||0;
            let ap_max = 6 - armor;
            setAttrs({                            
                ap_max: ap_max
            });
          });
    });
    on("change:ap", function() {
        getAttrs(["ap", "ap_max"], function(values) {
            let ap = parseInt(values.ap,10)||0;
            let ap_max = parseInt(values.ap_max,10)||0;
            if(ap > ap_max)
            {
                setAttrs({                            
                    ap: ap_max
                });
            }
          });
    });
    on("change:attribute_strength change:attribute_willpower change:skill_insensibility change:hitpoints_mod", function() {
        getAttrs(["attribute_strength", "attribute_willpower", "skill_insensibility","hitpoints_mod" ], function(values) {
            let str = parseInt(values.attribute_strength,10)||0;
            let wil = parseInt(values.attribute_willpower,10)||0;
            let ins = parseInt(values.skill_insensibility, 10)||0;
            let hp_mod = parseInt(values.hitpoints_mod, 10)||0;
            let hp = str + wil + 7 + ins + hp_mod;
            setAttrs({                            
                hitpoints_max: hp
            });
          });
    });
    on("change:attribute_senses change:attribute_dexterity change:skill_reflexes change:ini_mod", function() {
        getAttrs(["attribute_senses", "attribute_dexterity", "skill_reflexes", "ini_mod"], function(values) {
            let sen = parseInt(values.attribute_senses,10)||0;
            let dex = parseInt(values.attribute_dexterity,10)||0;
            let reflexes = parseInt(values.skill_reflexes,10)||0;
            let ini_mod = parseInt(values.ini_mod, 10)||0;
            let ini = sen + dex + reflexes + ini_mod;
            setAttrs({                            
                ini: ini
            });
          });
    });

    on("clicked:addeffect", () => {
        var newrowid = generateRowID();
        var itemfields = {};
        itemfields["repeating_effects_" + newrowid + "_name"] = "Effect name";
        itemfields["repeating_effects_" + newrowid + "_source"] = "effect source";
        itemfields["repeating_effects_" + newrowid + "_target"] = "hitpoints";
        itemfields["repeating_effects_" + newrowid + "_bonus"] = "1";
        setAttrs(itemfields);
    });

    on("change:motivation_name change:motivation_target change:motivation_bonus", function(){
        rebuildMods();
    });
    on("change:repeating_armorsets change:repeating_effects change:repeating_powers change:repeating_hunterpowers", function(){
        rebuildMods();
    });
    on("remove:repeating_armorsets remove:repeating_effects remove:repeating_powers remove:repeating_hunterpowers", function(eventInfo){   
        rebuildMods();
    });

    var rebuildMods = function() {
        console.log("rebuild mods");
        var mods = {};
        clearMods(mods);
        crawlSingleEffect("motivation", mods, function(mods) {
            crawlEffects("repeating_armorsets", mods, function(mods) {
                crawlEffects("repeating_powers", mods, function(mods) {
                    crawlEffects("repeating_hunterpowers", mods, function(mods) {
                        crawlEffects("repeating_effects", mods, function(mods) {
                            finishRebuildMods(mods);
                        });
                    });
                });
            });
        });

    };

    var crawlEffects = function(fieldsetname, mods, callback) {
        var itemfields = [];
        getSectionIDs(fieldsetname, function(idarray) {

            _.each(idarray, function(currentID, i) {
                itemfields.push(fieldsetname+"_" + currentID + "_name");
                itemfields.push(fieldsetname+"_" + currentID + "_target");
                itemfields.push(fieldsetname+"_" + currentID + "_bonus");
            });
            getAttrs(itemfields, function(v) {
                _.each(idarray, function(currentID) {
                    
                    var target = v[fieldsetname+"_" + currentID + "_target"];
                    var modname = v[fieldsetname+"_" + currentID + "_name"];
                    var bonus = parseInt(v[fieldsetname+"_" + currentID + "_bonus"],10);
                    addToMods(modname, target, bonus, mods);
                        
                });
                callback(mods);
                
            });
         });
    }

    var crawlSingleEffect = function(prefix, mods, callback) {
        console.log("Crawl single effect");
        var itemfields = [];
        itemfields.push(prefix+"_name");
        itemfields.push(prefix+"_target");
        itemfields.push(prefix+"_bonus");
        
        getAttrs(itemfields, function(v) {
            
            console.log(itemfields);
            console.log(v);
            var target = v[prefix + "_target"];
            var modname = v[prefix + "_name"];
            var bonus = parseInt(v[prefix + "_bonus"],10);
            addToMods(modname, target, bonus, mods);
            console.log("mods after crawl single effect:");
            console.log(mods);
            callback(mods);
            
        });

    }

    var finishRebuildMods = function(mods) {
        console.log("Finish rebuild mods");
        applyParryAll(mods);
        applyParryToWeapons(mods);
        console.log(mods);

        var update = createUpdateListFromMods(mods);
        console.log(update);
        setAttrs(update);
    };
    var applyParryAll = function(mods) {
        if (mods.hasOwnProperty('parry_all')) {
            //add parry_all to all parry_...
            _.each(parrylist, function (parryitem) {
                _.each(mods['parry_all'], function (parryallmod) {
                    addToMods(parryallmod.modname, parryitem, parryallmod.bonus, mods);
                });
    
            });
        }
    };
    var applyParryToWeapons = function(mods) {
        _.each(parrylist, function (parryitem) {
            var weaponname = parryitem.replace("parry_", "");
            if(mods.hasOwnProperty(weaponname))
            {
                _.each(mods[weaponname], function (weaponmod) {
                    addToMods(weaponmod.modname, parryitem, weaponmod.bonus, mods);
                });
            }
        });       
    };
    var clearMods = function(mods) {
        _.each(checklist, function (checkitem) {
            mods[checkitem] = [];
        });
        mods["hitpoints"] = [];
        mods["ini"] = [];
        mods["parry_all"] = [];
        mods["idea"] = [];
        mods["coup"] = [];
    };
    var addToMods = function(modname, target, bonus, mods) {
        if(!mods.hasOwnProperty(target))
            mods[target] = [];

        mods[target].push({modname: modname, bonus: bonus});
    };
    var createUpdateListFromMods = function(mods){
        var update = {};
        Object.entries(mods).forEach(([target,v]) => {
            var modnames = [];
            var bonus_sum = 0;
            _.each(v, function(mod){
                var bonus = mod.bonus;
                bonus_sum += bonus;
                var bonusstring = bonus.toString();
                if(bonus > 0)
                    bonusstring = "+"+bonusstring;
                modnames.push(mod.modname + " "+bonusstring);
            });                  

            update[target+"_mod"] = bonus_sum;
            update[target+"_mod_desc"] = modnames.join(", ")||"";
        });
        return update;
    };

    const skills = {
        'skill_acrobatics':{att: 'attribute_athletic'},
        'skill_alertness':{att: 'attribute_senses'},
        'skill_perception':{att: 'attribute_senses'},
        'skill_firstaid':{att: 'attribute_knowledge'},
        'skill_sleightofhand':{att: 'attribute_dexterity'},
        'skill_mentalpower':{att: 'attribute_willpower'},
        'skill_crafting':{att: 'attribute_dexterity'},
        'skill_stealth':{att: 'attribute_athletic'},
        'skill_countryandpeople':{att: 'attribute_knowledge'},
        'skill_rhetoric':{att: 'attribute_willpower'},
        'skill_flexing':{att: 'attribute_strength'},
        'skill_reflexes':{att: 'attribute_senses'},
        'skill_riding':{att: 'attribute_athletic'},
        'skill_insensibility':{att: 'attribute_strength'},
        'skill_fieldsofknowledge':{att: 'attribute_knowledge'},
        'skill_witchcraft':{att: 'attribute_knowledge'},

        'weapon_punch':{att: 'attribute_athletic'},
        'weapon_dagger':{att: 'attribute_dexterity'},
        'weapon_fencing':{att: 'attribute_athletic'},
        'weapon_swords' :{att: 'attribute_strength'},
        'weapon_scimitar' :{att: 'attribute_strength'},
        'weapon_impact' :{att: 'attribute_strength'},
        'weapon_polearm' :{att: 'attribute_strength'},
        'weapon_lance' :{att: 'attribute_strength'},
        'weapon_sling' :{att: 'attribute_dexterity'},
        'weapon_pistol' :{att: 'attribute_senses'},
        'weapon_crossbow' :{att: 'attribute_senses'},
        'weapon_musket' :{att: 'attribute_senses'},
        'weapon_dodge' :{att: 'attribute_athletic'},
        'weapon_shield' :{att: 'attribute_strength'},
    };
    Object.keys(skills).forEach(skill => {  
        let attributeName = skills[skill].att;   
        on(`change:${skill} change:${attributeName}`, () => {
            getAttrs([skill, attributeName], function(values) {
                let skillValue = parseInt(values[skill],10)||0;
                let attributeValue = parseInt(values[attributeName],10)||0;
                let v = skillValue + attributeValue;
                setAttrs({                            
                    [`${skill}_max`]: v
                });
            });
        });
    });

    on("sheet:opened", function(eventInfo){
        
    });



</script>
<rolltemplate class="sheet-rolltemplate-check">
  <div class="sheet-rtcard">{{#name}}
    <h3>{{name}}</h3>{{/name}}
    {{#attr}}
    <p>{{attr}}{{#attr_val}} ({{attr_val}}){{/attr_val}}</p>{{/attr}}{{#hexxen1}}
    {{#rollTotal() hexxen1 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen1 1}}
    {{#rollBetween() hexxen1 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen1 2 4}}
    {{#rollBetween() hexxen1 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen1 5 6}}
    {{/hexxen1}} {{#hexxen2}}
    {{#rollTotal() hexxen2 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen2 1}}
    {{#rollBetween() hexxen2 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen2 2 4}}
    {{#rollBetween() hexxen2 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen2 5 6}}
    {{/hexxen2}} {{#hexxen3}}
    {{#rollTotal() hexxen3 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen3 1}}
    {{#rollBetween() hexxen3 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen3 2 4}}
    {{#rollBetween() hexxen3 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen3 5 6}}
    {{/hexxen3}} {{#hexxen4}}
    {{#rollTotal() hexxen4 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen4 1}}
    {{#rollBetween() hexxen4 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen4 2 4}}
    {{#rollBetween() hexxen4 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen4 5 6}}
    {{/hexxen4}} {{#hexxen5}}
    {{#rollTotal() hexxen5 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen5 1}}
    {{#rollBetween() hexxen5 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen5 2 4}}
    {{#rollBetween() hexxen5 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen5 5 6}}
    {{/hexxen5}} {{#hexxen6}}
    {{#rollTotal() hexxen6 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen6 1}}
    {{#rollBetween() hexxen6 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen6 2 4}}
    {{#rollBetween() hexxen6 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen6 5 6}}
    {{/hexxen6}} {{#hexxen7}}
    {{#rollTotal() hexxen7 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen7 1}}
    {{#rollBetween() hexxen7 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen7 2 4}}
    {{#rollBetween() hexxen7 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen7 5 6}}
    {{/hexxen7}} {{#hexxen8}}
    {{#rollTotal() hexxen8 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen8 1}}
    {{#rollBetween() hexxen8 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen8 2 4}}
    {{#rollBetween() hexxen8 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen8 5 6}}
    {{/hexxen8}} {{#hexxen9}}
    {{#rollTotal() hexxen9 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen9 1}}
    {{#rollBetween() hexxen9 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen9 2 4}}
    {{#rollBetween() hexxen9 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen9 5 6}}
    {{/hexxen9}} {{#hexxen10}}
    {{#rollTotal() hexxen10 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen10 1}}
    {{#rollBetween() hexxen10 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen10 2 4}}
    {{#rollBetween() hexxen10 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen10 5 6}}
    {{/hexxen10}} {{#hexxen11}}
    {{#rollTotal() hexxen11 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen11 1}}
    {{#rollBetween() hexxen11 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen11 2 4}}
    {{#rollBetween() hexxen11 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen11 5 6}}
    {{/hexxen11}} {{#hexxen12}}
    {{#rollTotal() hexxen12 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen12 1}}
    {{#rollBetween() hexxen12 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen12 2 4}}
    {{#rollBetween() hexxen12 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen12 5 6}}
    {{/hexxen12}} {{#hexxen13}}
    {{#rollTotal() hexxen13 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen13 1}}
    {{#rollBetween() hexxen13 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen13 2 4}}
    {{#rollBetween() hexxen13 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen13 5 6}}
    {{/hexxen13}} {{#hexxen14}}
    {{#rollTotal() hexxen14 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen14 1}}
    {{#rollBetween() hexxen14 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen14 2 4}}
    {{#rollBetween() hexxen14 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen14 5 6}}
    {{/hexxen14}} {{#hexxen15}}
    {{#rollTotal() hexxen15 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen15 1}}
    {{#rollBetween() hexxen15 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen15 2 4}}
    {{#rollBetween() hexxen15 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen15 5 6}}
    {{/hexxen15}} {{#hexxen16}}
    {{#rollTotal() hexxen16 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen16 1}}
    {{#rollBetween() hexxen16 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen16 2 4}}
    {{#rollBetween() hexxen16 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen16 5 6}}
    {{/hexxen16}} {{#hexxen17}}
    {{#rollTotal() hexxen17 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen17 1}}
    {{#rollBetween() hexxen17 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen17 2 4}}
    {{#rollBetween() hexxen17 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen17 5 6}}
    {{/hexxen17}} {{#hexxen18}}
    {{#rollTotal() hexxen18 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen18 1}}
    {{#rollBetween() hexxen18 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen18 2 4}}
    {{#rollBetween() hexxen18 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen18 5 6}}
    {{/hexxen18}} {{#hexxen19}}
    {{#rollTotal() hexxen19 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen19 1}}
    {{#rollBetween() hexxen19 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen19 2 4}}
    {{#rollBetween() hexxen19 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen19 5 6}}
    {{/hexxen19}} {{#hexxen20}}
    {{#rollTotal() hexxen20 1}}<span class="hexxen esprit"></span>{{/rollTotal() hexxen20 1}}
    {{#rollBetween() hexxen20 2 4}}<span class="hexxen empty"></span>{{/rollBetween() hexxen20 2 4}}
    {{#rollBetween() hexxen20 5 6}}<span class="hexxen success"></span>{{/rollBetween() hexxen20 5 6}}
    {{/hexxen20}} {{#janus1}}
    {{#rollBetween() janus1 1 3}}<span class="janus empty"></span>{{/rollBetween() janus1 1 3}}
    {{#rollBetween() janus1 4 6}}<span class="janus success"></span>{{/rollBetween() janus1 4 6}}
    {{/janus1}} {{#janus2}}
    {{#rollBetween() janus2 1 3}}<span class="janus empty"></span>{{/rollBetween() janus2 1 3}}
    {{#rollBetween() janus2 4 6}}<span class="janus success"></span>{{/rollBetween() janus2 4 6}}
    {{/janus2}} {{#janus3}}
    {{#rollBetween() janus3 1 3}}<span class="janus empty"></span>{{/rollBetween() janus3 1 3}}
    {{#rollBetween() janus3 4 6}}<span class="janus success"></span>{{/rollBetween() janus3 4 6}}
    {{/janus3}} {{#janus4}}
    {{#rollBetween() janus4 1 3}}<span class="janus empty"></span>{{/rollBetween() janus4 1 3}}
    {{#rollBetween() janus4 4 6}}<span class="janus success"></span>{{/rollBetween() janus4 4 6}}
    {{/janus4}} {{#janus5}}
    {{#rollBetween() janus5 1 3}}<span class="janus empty"></span>{{/rollBetween() janus5 1 3}}
    {{#rollBetween() janus5 4 6}}<span class="janus success"></span>{{/rollBetween() janus5 4 6}}
    {{/janus5}} {{#janus-1}}
    {{#rollBetween() janus-1 1 3}}<span class="janus empty"></span>{{/rollBetween() janus-1 1 3}}
    {{#rollBetween() janus-1 4 6}}<span class="janus success"></span>{{/rollBetween() janus-1 4 6}}
    {{/janus-1}} {{#janus-2}}
    {{#rollBetween() janus-2 1 3}}<span class="janus empty"></span>{{/rollBetween() janus-2 1 3}}
    {{#rollBetween() janus-2 4 6}}<span class="janus success"></span>{{/rollBetween() janus-2 4 6}}
    {{/janus-2}} {{#janus-3}}
    {{#rollBetween() janus-3 1 3}}<span class="janus empty"></span>{{/rollBetween() janus-3 1 3}}
    {{#rollBetween() janus-3 4 6}}<span class="janus success"></span>{{/rollBetween() janus-3 4 6}}
    {{/janus-3}} {{#janus-4}}
    {{#rollBetween() janus-4 1 3}}<span class="janus empty"></span>{{/rollBetween() janus-4 1 3}}
    {{#rollBetween() janus-4 4 6}}<span class="janus success"></span>{{/rollBetween() janus-4 4 6}}
    {{/janus-4}} {{#janus-5}}
    {{#rollBetween() janus-5 1 3}}<span class="janus empty"></span>{{/rollBetween() janus-5 1 3}}
    {{#rollBetween() janus-5 4 6}}<span class="janus success"></span>{{/rollBetween() janus-5 4 6}}
    {{/janus-5}} {{#blessing1}}
    {{#rollBetween() blessing1 1 2}}<span class="blessing esprit"></span>{{/rollBetween() blessing1 1 2}}
    {{#rollTotal() blessing1 3}}<span class="blessing empty"></span>{{/rollTotal() blessing1 3}}
    {{#rollBetween() blessing1 4 5}}<span class="blessing success"></span>{{/rollBetween() blessing1 4 5}}
    {{#rollTotal() blessing1 6}}<span class="blessing doublesuccess"></span>{{/rollTotal() blessing1 6}}
    {{/blessing1}}
    <p>
      Erfolge:<span class="rtresult_result"></span>
      Esprit:<span class="rtresult_esprit"></span>
    </p>
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-blood">
  <div class="sheet-rtcard">{{#name}}
    <h3>{{name}}</h3>{{/name}}
    {{#attr}}
    <p>{{attr}}{{#attr_val}}({{attr_val}}){{/attr_val}}</p>{{/attr}}               
    {{#blood1}}
    {{#rollTotal() blood1 1}}<span class="blood empty"></span>{{/rollTotal() blood1 1}}
    {{#rollBetween() blood1 2 3}}<span class="blood blood1"></span>{{/rollBetween() blood1 2 3}}
    {{#rollBetween() blood1 4 5}}<span class="blood blood2"></span>{{/rollBetween() blood1 4 5}}
    {{#rollTotal() blood1 6}}<span class="blood blood3"></span>{{/rollTotal() blood1 6}}
    {{/blood1}}
    <p>Blut:<span class="sheet-rtresult_blood"></span></p>
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-elixir">
  <div class="sheet-rtcard">{{#name}}
    <h3>{{name}}</h3>{{/name}}
    {{#attr}}
    <p>{{attr}}{{#attr_val}}({{attr_val}}){{/attr_val}}</p>{{/attr}}               
    {{#elixir1}}
    {{#rollTotal() elixir1 1}}<span class="elixir elixir1"></span>{{/rollTotal() elixir1 1}}
    {{#rollTotal() elixir1 2}}<span class="elixir elixir2"></span>{{/rollTotal() elixir1 2}}
    {{#rollTotal() elixir1 3}}<span class="elixir elixir3"></span>{{/rollTotal() elixir1 3}}
    {{#rollTotal() elixir1 4}}<span class="elixir elixir4"></span>{{/rollTotal() elixir1 4}}
    {{#rollTotal() elixir1 5}}<span class="elixir elixir5"></span>{{/rollTotal() elixir1 5}}
    {{#rollTotal() elixir1 6}}<span class="elixir elixir3"></span>{{/rollTotal() elixir1 6}}
    {{/elixir1}}
    <p>Elixier:<span class="sheet-rtresult_elixir"></span></p>
  </div>
</rolltemplate>